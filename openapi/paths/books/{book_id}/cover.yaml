get:
  tags:
    - Cover
  summary: "Get book cover"
  description: |
    Get the cover of a specific book owned by a user.
    The user must be authenticated and have the appropriate permissions.
  operationId: getBookCover

  parameters:
    - $ref: ../../../components/parameters/book_id.yaml

  responses:
    "200":
      description: The book cover was retrieved successfully.
      content:
        image/jpeg:
          schema:
            type: string
            format: binary
    "401":
      $ref: ../../../components/responses/Unauthorized.yaml
    "404":
      $ref: ../../../components/responses/NotFound.yaml

  security:
    - prosaToken: []
    - apiKey: []

post:
  tags:
    - Cover
  summary: "Add book cover"
  description: |
    Add a cover for a specific book owned by a user.
    The user must be authenticated and have the appropriate permissions.
  operationId: addBookCover

  parameters:
    - $ref: ../../../components/parameters/book_id.yaml

  requestBody:
    required: true
    description: The cover image to add.
    content:
        image/jpeg:
          schema:
            type: string
            format: binary

  responses:
    "204":
      description: The book cover was added successfully.
    "400":
      $ref: ../../../components/responses/BadRequest.yaml
    "401":
      $ref: ../../../components/responses/Unauthorized.yaml
    "404":
      $ref: ../../../components/responses/NotFound.yaml
    "409":
      $ref: ../../../components/responses/Conflict.yaml

  security:
    - prosaToken: []
    - apiKey: []

delete:
  tags:
    - Cover
  summary: "Delete book cover"
  description: |
    Delete the cover of a specific book owned by a user.
    The user must be authenticated and have the appropriate permissions.
  operationId: deleteBookCover

  parameters:
    - $ref: ../../../components/parameters/book_id.yaml

  responses:
    "204":
      description: The book cover was deleted successfully.
    "401":
      $ref: ../../../components/responses/Unauthorized.yaml
    "404":
      $ref: ../../../components/responses/NotFound.yaml

  security:
    - prosaToken: []
    - apiKey: []

put:
  tags:
    - Cover
  summary: "Update book cover"
  description: |
    Update the cover of a specific book owned by a user.
    The user must be authenticated and have the appropriate permissions.
  operationId: updateBookCover

  parameters:
    - $ref: ../../../components/parameters/book_id.yaml

  requestBody:
    required: true
    description: The cover image to change to.
    content:
        image/jpeg:
          schema:
            type: string
            format: binary

  responses:
    "204":
      description: The book metadata was updated successfully.
    "400":
      $ref: ../../../components/responses/BadRequest.yaml
    "401":
      $ref: ../../../components/responses/Unauthorized.yaml
    "404":
      $ref: ../../../components/responses/NotFound.yaml

  security:
    - prosaToken: []
    - apiKey: []
