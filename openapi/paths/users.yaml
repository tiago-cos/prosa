post:
  tags:
    - Authentication
  summary: "Register"
  description: |
    Register (create) a new user to the database.
    The new user can either be an admin or a regular user.
    To register an admin user, the admin key must be provided in the request body.
  operationId: register

  requestBody:
    required: true
    description: Request body for adding a new user.
    content:
      application/json:
        schema:
          type: object
          properties:
            username:
              type: string
              description: The username of the new user
            password:
              type: string
              description: The password of the new user
            admin_key:
              type: string
              description: The admin key to register an admin user
          required:
            - username
            - password
        examples:
          user:
            summary: User request body
            value:
              username: "johndoe"
              password: "password123"
          admin:
            summary: Admin request body
            value:
              username: "admin"
              password: "password123"
              admin_key: "88ce1268d9f1dda402cd172"
            
  responses:
    "200":
      description: The JWT token for the newly created user
      content:
        text/plain:
          schema:
            type: string
            description: Base64-encoded JWT token
          examples:
            success:
              summary: Base64-encoded JWT token
              value: "ZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6STFOaUo5LmV5SnliMnhsSWpwN0lsVnpaWElpT2lKaFpHRm1JbjBzSW1WNGNDSTZNVGN6T0RFNE1UTTNNWDAuZExmYWJFVnJ6VXI1eTgwNTlFTUl0dC1VLXhoc2lQWlFYU3R5WUo4Q29hYw=="
    "400":
      description: The username and password cannot contain special characters.
    "422":
      $ref: ../components/responses/BadRequest.yaml
    "403":
      $ref: ../components/responses/Forbidden.yaml
    "409":
      $ref: ../components/responses/Conflict.yaml
