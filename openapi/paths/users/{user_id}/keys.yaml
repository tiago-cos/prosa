post:
  tags:
    - ApiKeys
  summary: "Create API key"
  description: |
    Create an API key for a user.
    This key can be used to authenticate requests to the API.
  operationId: createApiKey

  parameters:
    - $ref: ../../../components/parameters/user_id.yaml

  requestBody:
    required: true
    description: Request body for creating an API key.
    content:
      application/json:
        schema:
          $ref: ../../../components/schemas/ApiKey.yaml

  responses:
    "200":
      description: API key created successfully.
      content:
        application/json:
          schema:
            properties:
              id:
                type: string
                format: uuid
                description: The ID of the API key.
              key:
                type: string
                description: The API key.
            required:
              - id
              - key
          examples:
            success:
              summary: Successfully created API key
              value:
                id: 3a8d9e3a-8d9e-3a8d-9e3a-8d9e3a8d9e3a
                key: "uXl248ck5oWd9uXl248c5oWd9uXl2"
    "400":
      $ref: ../../../components/responses/BadRequest.yaml
    "401":
      $ref: ../../../components/responses/Unauthorized.yaml
    "403":
      $ref: ../../../components/responses/Forbidden.yaml
    "404":
      $ref: ../../../components/responses/NotFound.yaml

  security:
    - prosaToken: []

get:
  tags:
    - ApiKeys
  summary: "Get API keys"
  description: Get the IDs of all API keys for a user.
  operationId: getApiKeys

  parameters:
    - $ref: ../../../components/parameters/user_id.yaml

  responses:
    "200":
      description: API keys retrieved successfully.
      content:
        application/json:
          schema:
            type: array
            items:
              type: string
              format: uuid
            example:
              - 3a8d9e3a-8d9e-3a8d-9e3a-8d9e3a8d9e3a
    "400":
      $ref: ../../../components/responses/BadRequest.yaml
    "401":
      $ref: ../../../components/responses/Unauthorized.yaml
    "403":
      $ref: ../../../components/responses/Forbidden.yaml
    "404":
      $ref: ../../../components/responses/NotFound.yaml

  security:
    - prosaToken: []